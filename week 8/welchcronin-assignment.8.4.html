<!-- /*
============================================
; Title:  WelchCronin-assignment 8.4.html
; Author: Professor Krasso
; Date:   12 December 2020
; Modified By: Georgia Welch Cronin
; Description: Using JQuery
;===========================================
 -->
<!DOCTYPE html>
<html lang="en">
 
<head>

    <meta charset="UTF-8">
    <title>Exercise 8.4</title>
<!-- creating all of the table css in a separate linked file -->
    <link rel="stylesheet" href="8.4 styles.css">

 <!-- get the required font files from 3rd party sources -->
    <link rel="preconnect" href="https://fonts.gstatic.com">
    <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@300;400;500&display=swap" rel="stylesheet">
<!-- get the jQuery to run from the library -->
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>


</head>

<body>

<!-- Naming the div for the table to appear in, called by the get EmployeeById later -->
<div id="emps"></div>


<script type="text/javascript">
//Creation of 5 new employee constructor employee objects with id, firstName, lastName, and title.
function Employee(id, firstName, lastName, title) {

    this.id = id;
    this.firstName = firstName;
    this.lastName = lastName;
    this.title = title;   
       }

//Creation of 5 new employee objects in an array
const employees = [
    new Employee('1', 'Thomas', 'Edison','Software Engineer'),
    new Employee('2', "Benjamin", "Franklin","Programmer"),
    new Employee('3', "Nikola", "Tesla","Project Manager"),
    new Employee('4', "Charles", "Babbage","Product Manager"),
    new Employee('5', "Alexander", "Bell","Business Analyst"),
    ];
    
// Creation of getEmployee () function that accepts an id argument and iterates over the employee array 
function getEmployee(id)
  {
      for (const employee of employees)
      {
          if (employee.id === id)
          {
              return employee;
          }
      }
  }

//Creation of a string variable called output to build the static part of the html table
let output = `<h2>Employee Listing</h2><br /><table><thead><tr><th>Id</th><th>First Name</th><th>Last Name</th><th>Title</th></tr></thead>`

for (const employee of employees)
{
    //Creation of an output to iterate over the array of employee objects and add them to the dynamic part of the html table
    output += `<tr><td>${employee.id}</td><td>${employee.firstName}</td><td>${employee.lastName}</td><td>${employee.title}</td></tr>`

}
//Closing of the static part of the html table
output += `</table>`

//Assigning the output string to the  emps div using the inner.html function
document.getElementById("emps").innerHTML = output;
    
// jQuery onClick event

$(function () {
    $("table tr").click(function () {
        //Registered an onClick event for table tr calling for the td first cell to be found
        const employeeId = $(this).find("td:first").html();
        //Using the getEmployee function to find the selectedEmployee object
        const selectedEmployee = getEmployee(employeeId);
        //Added javascript alert box to get the desired output for the row
        alert(`${selectedEmployee.id} ${selectedEmployee.firstName} ${selectedEmployee.lastName} ${selectedEmployee.title}`)
     })
}); 
    
    </script>
</body>
 </html>
